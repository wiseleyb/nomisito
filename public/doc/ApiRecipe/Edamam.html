<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: ApiRecipe::Edamam
  
    &mdash; Documentation by YARD 0.9.34
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "ApiRecipe::Edamam";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (E)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../ApiRecipe.html" title="ApiRecipe (module)">ApiRecipe</a></span></span>
     &raquo; 
    <span class="title">Edamam</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: ApiRecipe::Edamam
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ApiRecipe::Edamam</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/services/api_recipe/edamam.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Works with Edamam Food Database API</p>

<p>Requires API keys EDAMAM_APP_ID and EDAMAM_APP_KEY. You can get this by signing up or see a developer for values.</p>

<p>Edamam API is rate limited to around 35/req/min. We handle this crudely right now with sleep commands. You can mock out sleep in ApiRecipe::Utils.pause to speed things up if needed (for tests, etc.)</p>

<p>Api Docs URL: <a href="https://developer.edamam.com/food-database-api-docs">developer.edamam.com/food-database-api-docs</a></p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_all_dietary-class_method" title="fetch_all_dietary (class method)">.<strong>fetch_all_dietary</strong>(site_klass: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Fetches all dietary information for all ingredients in the DB.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_data-class_method" title="fetch_data (class method)">.<strong>fetch_data</strong>(ingredient_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Fetches dietary information for an ingredient and stores results in Ingredient.edamam_results as a jsonb hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_dietary-class_method" title="fetch_dietary (class method)">.<strong>fetch_dietary</strong>(ingredient_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Fetches dietary information give basic Edamam ingredient information from Edamam.fetch_ingredient call thatâ€™s stored in <a href="&#39;parse&#39;">Ingredient.edamam_results</a>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_ingredient-class_method" title="fetch_ingredient (class method)">.<strong>fetch_ingredient</strong>(ingredient_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Fetches basic ingredient information.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="fetch_all_dietary-class_method">
  
    .<strong>fetch_all_dietary</strong>(site_klass: nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Fetches all dietary information for all ingredients in the DB. This can be slow but should only need to be run once (or maybe updated now and then) when you setup the site.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Load ingredients for GuacIsExtra API</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_sk'>sk</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ApiRecipe::GuacIsExtra</span><span class='tstring_end'>&#39;</span></span><span class='period'>.</span><span class='id identifier rubyid_constantize'>constantize</span>
<span class='id identifier rubyid_sk'>sk</span><span class='period'>.</span><span class='id identifier rubyid_reset_cache!'>reset_cache!</span>
<span class='id identifier rubyid_sk'>sk</span><span class='period'>.</span><span class='id identifier rubyid_cache_ingredients'>cache_ingredients</span>
<span class='const'><span class='object_link'><a href="../ApiRecipe.html" title="ApiRecipe (module)">ApiRecipe</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="ApiRecipe::Edamam (class)">Edamam</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch_all_dietary'>fetch_all_dietary</span><span class='lparen'>(</span><span class='label'>site_klass:</span> <span class='id identifier rubyid_sk'>sk</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="../Dietary.html" title="Dietary (class)">Dietary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_reset!'><span class='object_link'><a href="../Dietary.html#reset!-class_method" title="Dietary.reset! (method)">reset!</a></span></span><span class='lparen'>(</span><span class='label'>site_klass:</span> <span class='id identifier rubyid_sk'>sk</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>site_klass</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>to filter</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/services/api_recipe/edamam.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_all_dietary'>fetch_all_dietary</span><span class='lparen'>(</span><span class='label'>site_klass:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_arel'>arel</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Ingredient.html" title="Ingredient (class)">Ingredient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>edamam_results:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_arel'>arel</span> <span class='op'>=</span> <span class='id identifier rubyid_arel'>arel</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>site_klass:</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_site_klass'>site_klass</span>
  <span class='id identifier rubyid_arel'>arel</span><span class='period'>.</span><span class='id identifier rubyid_find_each'>find_each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ing'>ing</span><span class='op'>|</span>
    <span class='id identifier rubyid_fetch_data'>fetch_data</span><span class='lparen'>(</span><span class='id identifier rubyid_ing'>ing</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_data-class_method">
  
    .<strong>fetch_data</strong>(ingredient_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Fetches dietary information for an ingredient and stores results in Ingredient.edamam_results as a jsonb hash. We do this so you can reprocess results without re-hitting the rate limited API.</p>

<p>There is a lot of information returned in this. For now weâ€™re just using Dietary Restriction informaion. But you could grab other nutrition info. See API docs/examples on Edamam for more info or just browser the stored data.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../ApiRecipe.html" title="ApiRecipe (module)">ApiRecipe</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="ApiRecipe::Edamam (class)">Edamam</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch_data'>fetch_data</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Ingredient.html" title="Ingredient (class)">Ingredient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ingredient_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>to populate</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51
52
53
54
55
56
57
58
59
60</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/services/api_recipe/edamam.rb', line 49</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_data'>fetch_data</span><span class='lparen'>(</span><span class='id identifier rubyid_ingredient_id'>ingredient_id</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../ApiRecipe.html" title="ApiRecipe (module)">ApiRecipe</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils.html" title="ApiRecipe::Utils (class)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="Utils.html#log-class_method" title="ApiRecipe::Utils.log (method)">log</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
                       <span class='symbol'>:fetch_data</span><span class='comma'>,</span>
                       <span class='lbrace'>{</span> <span class='label'>ingredient_id:</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fetch_ingredient'>fetch_ingredient</span><span class='lparen'>(</span><span class='id identifier rubyid_ingredient_id'>ingredient_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fetch_dietary'>fetch_dietary</span><span class='lparen'>(</span><span class='id identifier rubyid_ingredient_id'>ingredient_id</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='const'><span class='object_link'><a href="../ApiRecipe.html" title="ApiRecipe (module)">ApiRecipe</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils.html" title="ApiRecipe::Utils (class)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log_err'><span class='object_link'><a href="Utils.html#log_err-class_method" title="ApiRecipe::Utils.log_err (method)">log_err</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
                           <span class='symbol'>:fetch_data</span><span class='comma'>,</span>
                           <span class='id identifier rubyid_e'>e</span><span class='comma'>,</span>
                           <span class='lbrace'>{</span> <span class='label'>ingredient_id:</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_dietary-class_method">
  
    .<strong>fetch_dietary</strong>(ingredient_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Fetches dietary information give basic Edamam ingredient information from Edamam.fetch_ingredient call thatâ€™s stored in <a href="&#39;parse&#39;">Ingredient.edamam_results</a></p>

<p>This populates <a href="&#39;nutrients&#39;">Ingredient.edamam_results</a></p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../ApiRecipe.html" title="ApiRecipe (module)">ApiRecipe</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="ApiRecipe::Edamam (class)">Edamam</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch_dietary'>fetch_dietary</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Ingredient.html" title="Ingredient (class)">Ingredient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ingredient_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>to populate</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/services/api_recipe/edamam.rb', line 105</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_dietary'>fetch_dietary</span><span class='lparen'>(</span><span class='id identifier rubyid_ingredient_id'>ingredient_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ingredient'>ingredient</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Ingredient.html" title="Ingredient (class)">Ingredient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find_by_id'>find_by_id</span><span class='lparen'>(</span><span class='id identifier rubyid_ingredient_id'>ingredient_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ingredient'>ingredient</span><span class='period'>.</span><span class='id identifier rubyid_edamam_hints'>edamam_hints</span>

  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://api.edamam.com/api/food-database/v2/nutrients</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>app_id:</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EDAMAM_APP_ID</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>app_key:</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EDAMAM_APP_KEY</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_to_query'>to_query</span>

  <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_ingredient'>ingredient</span><span class='period'>.</span><span class='id identifier rubyid_edamam_ingr_h'>edamam_ingr_h</span><span class='period'>.</span><span class='id identifier rubyid_to_json'>to_json</span> <span class='comment'># results[:ingr_h].to_json
</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../ApiRecipe.html" title="ApiRecipe (module)">ApiRecipe</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils.html" title="ApiRecipe::Utils (class)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_http_post'><span class='object_link'><a href="Utils.html#http_post-class_method" title="ApiRecipe::Utils.http_post (method)">http_post</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='comma'>,</span> <span class='label'>body:</span><span class='comma'>,</span> <span class='label'>pause:</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ingredient'>ingredient</span><span class='period'>.</span><span class='id identifier rubyid_edamam_results'>edamam_results</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nutrients</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span>
  <span class='id identifier rubyid_ingredient'>ingredient</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
  <span class='id identifier rubyid_ingredient'>ingredient</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_ingredient-class_method">
  
    .<strong>fetch_ingredient</strong>(ingredient_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Fetches basic ingredient information. Since this is just sample code for an interview it makes the following assumptions:</p>
<ul><li>
<p>If you hit Edamam with an incredient like â€˜chickenâ€™ youâ€™ll get tons of optionsâ€¦ we just assume the first one is right.</p>
</li></ul>

<p>This populates <a href="&#39;parse&#39;">Ingredient.edamam_results</a> which is required for the Edamam.fetch_dietary call</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../ApiRecipe.html" title="ApiRecipe (module)">ApiRecipe</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="ApiRecipe::Edamam (class)">Edamam</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch_ingredients'>fetch_ingredients</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Ingredient.html" title="Ingredient (class)">Ingredient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ingredient_id</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>to populate</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/services/api_recipe/edamam.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_ingredient'>fetch_ingredient</span><span class='lparen'>(</span><span class='id identifier rubyid_ingredient_id'>ingredient_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ingredient'>ingredient</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Ingredient.html" title="Ingredient (class)">Ingredient</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find_by_id'>find_by_id</span><span class='lparen'>(</span><span class='id identifier rubyid_ingredient_id'>ingredient_id</span><span class='rparen'>)</span>
  <span class='comment'># Docs on api for this
</span>  <span class='comment'># https://developer.edamam.com/food-database-api-docs
</span>  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://api.edamam.com/api/food-database/v2/parser</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>app_id:</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EDAMAM_APP_ID</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>app_key:</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>EDAMAM_APP_KEY</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>ingr:</span> <span class='id identifier rubyid_ingredient'>ingredient</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>nutrition-type</span><span class='label_end'>&#39;:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cooking</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_to_query'>to_query</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../ApiRecipe.html" title="ApiRecipe (module)">ApiRecipe</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Utils.html" title="ApiRecipe::Utils (class)">Utils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_http_get'><span class='object_link'><a href="Utils.html#http_get-class_method" title="ApiRecipe::Utils.http_get (method)">http_get</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='comma'>,</span> <span class='label'>pause:</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ingredient'>ingredient</span><span class='period'>.</span><span class='id identifier rubyid_edamam_results'>edamam_results</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_ingredient'>ingredient</span><span class='period'>.</span><span class='id identifier rubyid_edamam_results'>edamam_results</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>parse</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span>
  <span class='id identifier rubyid_ingredient'>ingredient</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
  <span class='id identifier rubyid_ingredient'>ingredient</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Dec 15 09:44:21 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.2.2).
</div>

    </div>
  </body>
</html>